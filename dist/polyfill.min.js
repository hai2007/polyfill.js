/*!
 * ✔️ polyfill.js - ✔️ 为旧浏览器提供一些常用的原生新功能支持。
 * git+https://github.com/hai2007/polyfill.js.git
 *
 * author 你好2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 0.1.0-alpha.0
 *
 * Copyright (c) 2021-present hai2007 走一步，再走一步。
 * Released under the MIT license
 *
 * Date:Wed Mar 10 2021 16:37:11 GMT+0800 (GMT+08:00)
 */
(function(){"use strict";var t=function(){if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("The current environment is not known!")}();function e(t){var n=typeof t;return t!=null&&(n==="object"||n==="function")}var n=Object.prototype.toString;function i(t){if(t==null){return t===undefined?"[object Undefined]":"[object Null]"}return n.call(t)}function r(t){if(!e(t)){return false}var n=i(t);return n==="[object Function]"||n==="[object AsyncFunction]"||n==="[object GeneratorFunction]"||n==="[object Proxy]"}var o=e;var u=r;var s=function(t,n){this.__state=n;this.__value=t;this.$$triggerEvent()};var c=function(){var t=null;var n=this.__state=="fulfilled"?0:1,e;while(this.__hocks.length>0){if(u(this.__hocks[0][n])){t=this.__hocks.shift();break}else if(u(this.__hocks[0][2])){this.__hocks[0][2]()}this.__hocks.shift()}if(t!==null){var i=t[n](this.__value);if(o(i)&&i.constructor===this.constructor){for(var e=0;e<this.__hocks.length;e++){i.__hocks.push(this.__hocks[e]);if(i.__state!="pending")i.$$triggerEvent()}}else{this.__value=i;this.__state="fulfilled";this.$$triggerEvent()}}};var f=function(t,n){var e=false;try{t(function(t){if(e)return;e=true;n.$$changeState(t,"fulfilled")},function(t){if(e)return;e=true;n.$$changeState(t,"rejected")})}catch(t){if(e)return;e=true;n.$$changeState(reason,"rejected")}};function h(t){if(!(this instanceof h)){throw new TypeError("undefined is not a promise")}if(!u(t)){throw new TypeError("Promise resolver "+t+" is not a function")}this.__value=undefined;this.__hocks=[];this.__state="pending";f(t,this)}h.prototype.$$changeState=s;h.prototype.$$triggerEvent=c;h.prototype.then=function(t,n){this.__hocks.push([t,n,undefined]);return this};h.prototype.catch=function(t){this.__hocks.push([undefined,t,undefined]);return this};h.prototype.finally=function(t){this.__hocks.push([undefined,undefined,t]);return this};h.resolve=function(n){if(o(n)&&n.constructor===h){return n}return new h(function(t){t(n)})};h.reject=function(e){return new h(function(t,n){n(e)})};h.all=function(t){};h.allSettled=function(t){};h.any=function(t){};h.race=function(t){};if(!("Promise"in t)){t["Promise"]=h}})();