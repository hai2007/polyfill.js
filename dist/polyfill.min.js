/*!
 * ✔️ polyfill.js - ✔️ 为旧浏览器提供一些常用的原生新功能支持。
 * git+https://github.com/hai2007/polyfill.js.git
 *
 * author 你好2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 0.1.1
 *
 * Copyright (c) 2021-present hai2007 走一步，再走一步。
 * Released under the MIT license
 *
 * Date:Thu Mar 11 2021 15:04:05 GMT+0800 (GMT+08:00)
 */
(function(){"use strict";var e=function(){if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("The current environment is not known!")}();function n(e){var t=typeof e;return e!=null&&(t==="object"||t==="function")}var t=Object.prototype.toString;function r(e){if(e==null){return e===undefined?"[object Undefined]":"[object Null]"}return t.call(e)}function i(e){if(!n(e)){return false}var t=r(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object Proxy]"}var o=n;var u=i;var f=function(e){return Array.isArray(e)};var s=function(e,t){this.__state=t;this.__value=e;this.$$triggerEvent()};var a=function(){var e=null;var t=this.__state=="fulfilled"?0:1,n;while(this.__hocks.length>0){if(u(this.__hocks[0][t])){e=this.__hocks.shift();break}else if(u(this.__hocks[0][2])){this.__hocks[0][2]()}this.__hocks.shift()}if(e!==null){var r=e[t](this.__value);if(o(r)&&r.constructor===this.constructor){for(var n=0;n<this.__hocks.length;n++){r.__hocks.push(this.__hocks[n]);if(r.__state!="pending")r.$$triggerEvent()}this.then=function(e,t){r.then(e,t)};this.catch=function(e){r.catch(e)};this.finally=function(e){r.finally(e)}}else{this.__value=r;this.__state="fulfilled";this.$$triggerEvent()}}};var c=function(e,t){var n=false;try{e(function(e){if(n)return;n=true;t.$$changeState(e,"fulfilled")},function(e){if(n)return;n=true;t.$$changeState(e,"rejected")})}catch(e){if(n)return;n=true;t.$$changeState(e,"rejected")}};function l(e){if(!(this instanceof l)){throw new TypeError("undefined is not a promise")}if(!u(e)){throw new TypeError("Promise resolver "+e+" is not a function")}this.__value=undefined;this.__hocks=[];this.__state="pending";c(e,this)}l.prototype.$$changeState=s;l.prototype.$$triggerEvent=a;l.prototype.then=function(e,t){this.__hocks.push([e,t,undefined]);if(this.__state!="pending"){this.$$triggerEvent()}return this};l.prototype.catch=function(e){this.__hocks.push([undefined,e,undefined]);if(this.__state!="pending"){this.$$triggerEvent()}return this};l.prototype.finally=function(e){this.__hocks.push([undefined,undefined,e]);if(this.__state!="pending"){this.$$triggerEvent()}return this};l.resolve=function(t){if(o(t)&&t.constructor===l){return t}return new l(function(e){e(t)})};l.reject=function(n){return new l(function(e,t){t(n)})};l.all=function(t){return new l(function(n,r){if(!f(t)){return r(new TypeError("undefined is not iterable (cannot read property Symbol(Symbol.iterator))"))}var i=Array.prototype.slice.call(t),o=0;if(i.length==0)n([]);var u=function(e,t){if(t.__state!=="pending"){o+=1;if(t.__state=="rejected"){r(t.__value)}else{i[e]=t.__value;if(o==i.length){n(i)}}}else{setTimeout(function(){u(e,t)})}};for(var e=0;e<i.length;e++){u(e,i[e])}})};l.allSettled=function(u){return new l(function(n,e){if(!f(u)){return e(new TypeError("undefined is not iterable (cannot read property Symbol(Symbol.iterator))"))}var r=Array.prototype.slice.call(u),i=0;if(r.length==0)n([]);var o=function(e,t){if(t.__state!=="pending"){i+=1;r[e]={status:t.__state};if(t.__state=="fulfilled"){r[e].value=t.__value}else{r[e].reason=t.__value}if(i==r.length){n(r)}}else{setTimeout(function(){o(e,t)})}};for(var t=0;t<r.length;t++){o(t,r[t])}})};l.any=function(u){return new l(function(n,r){if(!f(u)){return r(new TypeError("undefined is not iterable (cannot read property Symbol(Symbol.iterator))"))}var i=0;if(u.length==0)n(undefined);var o=function(e,t){if(t.__state!=="pending"){i+=1;if(t.__state=="rejected"){if(i==u.length){return r(new Error("All promises were rejected"))}}else{n(t.__value)}}else{setTimeout(function(){o(e,t)})}};for(var e=0;e<u.length;e++){o(e,u[e])}})};l.race=function(t){return new l(function(n,r){if(!f(t)){return r(new TypeError("undefined is not iterable (cannot read property Symbol(Symbol.iterator))"))}if(t.length==0)n(undefined);var i=function(e,t){if(t.__state!=="pending"){if(t.__state=="rejected"){r(t.__value)}else{n(t.__value)}}else{setTimeout(function(){i(e,t)})}};for(var e=0;e<t.length;e++){i(e,t[e])}})};if(!("Promise"in e)){e["Promise"]=l}})();